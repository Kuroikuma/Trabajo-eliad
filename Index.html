<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pizzeria</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">



</head>

<body>
   
    <div class="container">

        <header class="d-flex flex-wrap justity-content-center py-3 mb-4 border-bottom">
            <a href="#" class="d-flex alingn-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
                <span class="fs-4"> Pizzeria </span>
            </a>
            <ul class="nav nav-pills">
                <li class="nav-item">
                    <a href="https://www.facebook.com/eliabjselvacruz" class="nav-link">
                        Facebook
                        <i class="bi-facebook"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="https://api.whatsapp.com/send?phone=+phone=50585562590&text=Hola, Eliab." class="nav-link active">
                        whatsapp
                        <i class="bi-whatsapp"></i>
                    </a> 
                </li> 
                <li class="nav-item">
                    <a href="https://www.facebook.com/eliabjselvacruz" class="nav-link">
                        Instagram
                        <i class="bi-instagram"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="https://www.facebook.com/eliabjselvacruz" class="nav-link">
                        Twitter
                        <i class="bi-twitter"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="https://www.facebook.com/eliabjselvacruz" class="nav-link">
                        TikTok
                        <i class="bi-tiktok"></i>
                    </a>
                </li>
                
            </ul>
        </header> 
        <div class="px-4 text-center">
            <div class="container">
                <main>
                    <h4 class="mb-3 mt-2">Caja</h4>
                    <form
                    class="needs-validation mt-5"
                    action="https://formsubmit.co/odiseoj676@gmail.com"
                    method="POST"
                    novalidate>
                        <div class="row g-3">
                            
                        </div>
                        <button type="submit" class="btn btn-primary btn-lg" onclick="handleSubmit()">
                            AGREGAR
                        </button>
                    </form>
                </main>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js">
    </script>

    <script>
        let template = (id, placeholder, name, label, type = "text") =>  {
            let text = `<div class="col-lg-5">
                            <label for="${id}" class="form-label">${label}</label>
                            <input name="${name}" type="${type}" class="form-control" id="${id}" placeholder="${placeholder}" required>
                            <div class="valid-feedback">
                                Â¡correcto! ðŸ˜»
                            </div>
                            <div class="invalid-feedback">
                                Debe ingresar el campo ðŸ˜»
                            </div>
                        </div>`
            return text
        }

        let form = document.querySelector("form .row");

        form.innerHTML += template("nombreProducto", "Ingrese el nombre", "Nombre-Producto", "Nombre del producto:")
        form.innerHTML += template("Precio", "Ingrese el precio", "Precio", "Precio:", "number")
        form.innerHTML += template("Categoria", "Ingrese la categoria", "Categoria", "Nombre de la Categoria:")
        form.innerHTML += template("Cantidad", "Ingrese la cantidad", "Cantidad", "ingrese la cantidad:", "number")
        form.innerHTML += template("Ingrediente", "Ingrese los ingredientes", "Ingredientes", "Nombre de los ingredientes:")
        form.innerHTML += template("Proveedor", "Ingrese el proveedor", "Proveedor", "Nombre del proveedor:")
        form.innerHTML += template("Cliente", "Ingrese el cliente", "cliente", "Nombre del cliente:")
        form.innerHTML += template("Mesa", "Ingrese el numero de mesa", "Mesa", "Numero de la mesa:", "number")
        form.innerHTML += template("Sucursal", "Ingrese la sucursal", "Sucursal", "Numero de la sucursal:", "number")
        form.innerHTML += template("FormaDePago", "Ingrese la forma de pago", "Forma-De-pago", "Forma de pago:")
        form.innerHTML += template("NombreDelivery", "Ingrese el Nombre", "NombreDelivery", "Nombre del delivery:")
        form.innerHTML += template("NumeroDelivery", "Ingrese el Numero", "NumeroDelivery", "Numero del delivery:", "number")
        form.innerHTML += template("NumeroDeCaja", "Ingrese el Numero caja", "NumeroDeCaja", "Numero de la caja:", "number")
        form.innerHTML += template("Administrador", "Ingrese el Administrador", "Administrador", "Administrador:")
        form.innerHTML += template("mesero", "Ingrese el mesero", "Mesero", "Ingrese el mesero:")
        form.innerHTML += template("fecha", "Ingrese la fecha", "fecha", "Ingrese la fecha:", "date")
      
     </script>

<script>
    (()=>{
        'use strict'
        const forms = document.querySelectorAll('.needs-validation')
        Array.from(forms).forEach(form =>{
            form.addEventListener('submit', event => {
                if (!form.checkValidity()){
                    event.preventDefault()
                    event.stopPropagation()
                }
                form.classList.add('was-validated')

                
            }, false)
        })
    })()

    const handleSubmit = () => {
        const doc = new jsPDF();

        let fecha="11-05-2022";

        let inputs = document.querySelectorAll(".col-lg-5")

        

        let nombreProducto = document.getElementById("nombreProducto").value;

        let Precio = document.getElementById("Precio").value;
        
        let Categoria = document.getElementById("Categoria").value;

        


        doc.setFillColor(28, 41, 51);

        doc.rect(0, 0, 220, 60, 'f');

        //doc.addImage(ImageData, 10, 8, 106, 34);

        doc.setFontSize(14);

        doc.setFontType("bold");

        doc.setTextColor(255, 255, 255);

        doc.text('WWSOLAR CALL CENTER NICA 2023',12, 50);

        let counter = 90

        doc.setTextColor(37, 40, 80);

        Array.from(inputs).forEach((item) => {
            let input = item.querySelector("input").value
            let label = item.querySelector("label").innerHTML

            doc.text(`${label} ${input}`, 12, counter);
            counter = counter + 10;
        })

        let partes = fecha.split('-');

        var fechadoc = partes[2]+ '-'+ partes[1]+ '-' + partes[0];

        const docpdf = `${nombreProducto} ${Categoria} ${fechadoc}.pdf`;
        doc.save(docpdf);
    }
</script>
    
</body>
</html>